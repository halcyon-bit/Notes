# 文本文件编辑命令

## 1. cat 命令

**cat** 命令用于查看纯文本文件（内容较少的），格式：

```shell
cat [选项] [文件]
```

| 参数 | 作用     |
| ---- | -------- |
| -n   | 显示行号 |

## 2. more 命令

**more** 命令用于查看纯文本文件（内容较多的），格式：

```shell
more [选项] 文件
```

使用空格键或回车键向下翻页

## 3. head 命令

**head** 命令用于查看纯文本文档的前 N 行，格式：

```shell
head [选项] [文件]
```

```shell
head -n 20 main.cpp  # 查看文本中前20行的内容
```

## 4. tail 命令

**tail** 命令用于查看纯文本文档的后 N 行或持续刷新内容，格式：

```shell
tail [选项] [文件]
```

| 参数 | 作用         |
| ---- | ------------ |
| -f   | 持续刷新文件 |

## 5. tr 命令

**tr** 命令用于替换文本文件中的字符，格式：

```shell
tr [原始字符] [目标字符]
```

```shell
cat main.cpp | tr [a-z] [A-Z]
```

## 6. wc 命令

**wc** 命令用于统计指定文本的行数、字数、字节数，格式：

```shell
wc [参数] 文本
```

| 参数 | 作用         |
| ---- | ------------ |
| -l   | 只显示行数   |
| -w   | 只显示单词数 |
| -c   | 只显示字节数 |

## 7. stat 命令

**stat** 命令用于查看文件的具体存储信息和时间等信息，格式：

```shell
stat 文件名称
```

## 8. cut 命令

**cut** 命令用于按"列"提取文本字符，格式：

```shell
cut [参数] 文本
```

| 参数 | 作用             |
| ---- | ---------------- |
| -f   | 设置需要看的列数 |
| -d   | 设置间隔符号     |

```shell
cut -d: -f1 /etc/passwd  # 提取出 passwd 文件中的用户名信息，即提取以冒号（:）为间隔符号的第一列内容
```

## 9. diff 命令

**diff** 命令用于比较多个文本文件的差异，格式：

```shell
diff [参数] 文件
```

| 参数    | 作用                         |
| ------- | ---------------------------- |
| --brief | 确认两个文件是否不同         |
| -c      | 详细比较出多个文件的差异之处 |

## 10. grep 命令

**grep** 命令用于在文本中执行关键词搜索，并显示匹配的结果，格式：

```shell
grep [选项][文件]
```

| 参数 | 作用                                             |
| ---- | ------------------------------------------------ |
| -b   | 将可执行文件（binary）当作文本文件（text）来搜索 |
| -c   | 仅显示找到的行数                                 |
| -i   | 忽略大小写                                       |
| -n   | 显示行号                                         |
| -v   | 反向选择——仅列出没有“关键字”的行                 |
| -r   | 递归搜索                                         |
| -E   | 支持扩展正则表达式                               |
| -F   | 不按正则表达式匹配，按字符串字面意思匹配         |
| -o   | 只显示模式匹配到的字符串                         |

**形式一**，从指定的文件中找出匹配pattern的行：

grep [option] pattern [file1,file2,...]

**形式二**，从管道中找出匹配pattern的行：

cmd | grep [option] pattern

说明：pattern是由正则表达式字符及文本字符所编写的过滤条件。

## 11. find 命令

**find** 命令用于按照指定条件来查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则 find 命令将在当前目录下查找子目录与文件，并且将查找到的子目录和文件全部进行显示。格式：

```shell
find [查找路径] 寻找条件 操作
```

| 参数           | 作用                                             |
| -------------- | ------------------------------------------------ |
| -b             | 将可执行文件（binary）当作文本文件（text）来搜索 |
| -c             | 仅显示找到的行数                                 |
| -i             | 忽略大小写                                       |
| -n             | 显示行号                                         |
| -v             | 反向选择——仅列出没有“关键字”的行                 |
| -name filename | 文件名称符合 filename 的文件 , 大小写敏感        |
| -iname filname | 文件名称符合 name 的文件，忽略大小写             |
| -empty         | 空文件                                           |
| -size          | 指定文件大小                                     |

- find [path] -name [filename]：在path目录下查找文件名成为filename的文件，大小写敏感
- find [path] -iname [filename]：在path目录下查找文件名成为filename的文件，大小写不敏感
- find [path] -empty：在path目录下查找文件大小为空的文件
- find [path] -size [fileszie]：查找定长的文件
- find [path] -size +[filesize]：查找大于filesize的文件
- find [path] -size -[filesize]：查找小于filesize的文件
- find [path] -size +[filesize1] -size -[filesize2]：查找大于filesize1的文件并且小于filesize2的文件

## 12. uniq 命令

uniq 命令用于检查及删除文本文件中重复出现的行列；如果使用该命令不加任何命令行参数，则视为删除指定文本文件当中重复的行之后进行输出；如果指定输出文件，则输出到指定文件当中。

```shell
uniq [参数] [输入文件] [输出文件]
```

| 参数 | 说明                             |
| ---- | -------------------------------- |
| -c   | 在每列旁边显示该行重复出现的次数 |
| -u   | 仅显示出现一次的行               |
| -d   | 仅显示重复出现的行列             |

[输入文件] 指定已排序好的文本文件。如果不指定此项，则从标准读取数据

[输出文件] 指定输出的文件。如果不指定此选项，则将内容显示到标准输出设备（显示终端）

- uniq [filename]：去除文件当中重复的行，输出到标准输出设备
- uniq \[filename1][filename2]：删除文件当中重复的行，输出到指定文件当中
- uniq -c [filename]：在每列旁边显示该行重复的次数
- uniq -u [filename]：显示只出现一次的行

## 13. sed 命令

**sed** 是一个精简的、非交互式的流式编辑器，它在命令行中输入编辑命令和指定文件名，然后在屏幕上查看输出。

**sed 的工作方式**：逐行读取文件内容存储在临时缓冲区中，称为“模式空间”（pattern space），接着用 sed 命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。原文件内容并没有改变。

```shell
sed [参数] "pattern command" file
```

| 参数 | 含义                                |
| ---- | ----------------------------------- |
| -n   | 只打印模式匹配的行                  |
| -e   | 直接在命令行进行 sed 编辑，默认选项 |
| -f   | 编辑动作保存在文件中，指定文件执行  |
| -r   | 支持扩展正则表达式                  |
| -i   | 直接修改文件内容                    |

```shell
cat passwd
# root:x:0:0:root:/root:/bin/bash
# bin:x:1:1:bin:/bin:/sbin/nologin
# daemon:x:2:2:ROOT:/sbin:/sbin/nologin
# adm:x:3:4:Root:/var/adm:/sbin/nologin
# lp:x:4:7:lp:/var/spool/lpd:

sed -n '/root/p' passwd 
# root:x:0:0:root:/root:/bin/bash
```

## 14. sort 命令

**sort** 命令可以针对文本文件的内容，按行进行排序。在排序的时候以指定分隔符对文本文件进行内容分列。对指定列进行升序或降序排列，并且在排序的同时可以指定是否忽略大小写。

```shell
sort [参数][-o<输出文件>][-t<分隔字符>][+<起始栏位>-<结束栏位>][文件]
```

| 参数           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| -b             | 忽略每行前面开始的空格字符,空格数量不固定时,该选项几乎是必须要使用的 |
| -f             | 将小写字母视为大写字母                                       |
| -n             | 依照数值的大小排序                                           |
| -r             | 降序                                                         |
| -o<输出文件>： | 将排序后的结果存入指定的文件                                 |
| -t<分隔字符>   | 指定分隔符，默认的分隔符为空白字符和非空白字符之间的空字符   |

