# 系统状态检测命令

## 1. ifconfig 命令

**ifconfig** 命令用于获取网卡配置与网络状态等信息，格式：

```shell
ifconfig [网络设备] [参数]
```

使用 ifconfig 命令来查看本机当前的网卡配置与网络状态等信息时，其实主要查看的就是网卡名称、inet 参数后面的 IP 地址、ether 参数后面的网卡物理地址（又称为 MAC 地址），以及 RX、TX 的接收数据包与发送数据包的个数及累计流量。

## 2. uname 命令

**uname** 命令用于查看系统内核与系统版本等信息，格式：

```shell
uname [-a]
```

在使用 uname 命令时，会固定搭配上 -a 参数来完整地查看当前系统的内核名称、主机名、内核发行版本、节点名、系统时间、硬件名称、硬件平台、处理器类型以及操作系统名称等信息。

如果要查看当前系统版本的详细信息，则需要查看 ...-release 文件，其命令：

```shell
cat /etc/system-release
```

## 3. uptime 命令

**uptime** 用于查看系统的负载信息，格式：

```shell
uptime
```

可以显示当前系统时间、系统已运行时间、启用终端数量以及平均负载值等信息。平均负载值指的是系统在最近 1 分钟、5 分钟、15 分钟内的压力情况；负载值越低越好，尽量不要长期超过 1，在生产环境中不要超过 5。

## 4. free 命令

**free** 用于显示当前系统中内存的使用量信息，格式：

```shell
free [-h]
```

## 5. who 命令

**who** 用于查看当前登入主机的用户终端信息，格式：

```shell
who [参数]
```

## 6. last 命令

**last** 命令用于查看系统的所有登录记录，格式：

```shell
last [参数]
```

## 7. history 命令

**history** 命令用于显示历史执行过的命令，格式：

```shell
history [-c]
```

能显示出当前用户在本地计算机中执行过的最近 1000 条命令记录。

| 参数 | 作用                   |
| ---- | ---------------------- |
| -c   | 清空所有的命令历史记录 |

## 8. sosreport 命令

**sosreport** 命令用于收集系统配置及架构信息并输出诊断文档，格式：

```shell
sosreport
```

## 9. ping 命令

**ping** 命令用于验证某台主机是否在线，Linux 系统中的 ping 命令不像 Windows 一样尝试 4 次就结束，会一直验证。格式：

```shell
ping [参数] [IP地址]
```

| **参数** | **作用**             |
| -------- | -------------------- |
| -c       | 规定尝试次数         |
| -i       | 每个数据包的发送间隔 |
| -W       | 定义等待超时时间     |

```shell
ping -c 3 -i 0.2 -W 3 127.0.0.1
```

## 10. netstat 命令

**netstat** 命令用于显示网络连接、路由表和网络接口信息，可以让用户得知有哪些网络连接正在运作。使用时如果不带参数，netstat 显示活动的 TCP 连接。

```shell
netstat [参数]
```

| 参数 | 作用                                     |
| ---- | ---------------------------------------- |
| -a   | 显示所有选项                             |
| -t   | (tcp)仅显示tcp相关选项                   |
| -u   | (udp)仅显示udp相关选项                   |
| -n   | 拒绝显示别名，能显示数字的全部转化成数字 |
| -p   | 显示建立相关链接的程序名                 |

```shell
# 查看 8080 端口被哪个进程占用
netstat -anp | grep 8080
# 查看进程名为 python 的进程都有哪些连接
netstat -anp | grep python
```

## 11. 查看 CPU 信息

```shell
cat /proc/cpuinfo
top && dstat
```

## 12. 查看内存信息

```shell
cat /proc/meminfo
free
```


